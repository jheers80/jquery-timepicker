/*!
 * @todo 日期选择器  
 * @author wanhappy@163.com
 * 使用方法 $('input').timepicker(); 
**/
!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.$=i(t.jquery)}(this,function(i){"use strict";var e=function(t){return t>10?t+"":"0"+t},n=/^[0-9]{1,2}:[0-9]{1,2}$/,s={},o=function(){},c=new Array(24).fill(null).map(function(t,i){var n=e(i);return'<li class="cell-2 js-hour-cell" data-val="'+n+'">'+n+"</li>"}).join(""),l=new Array(12).fill(null).map(function(t,i){var n=e(5*i);return'<li class="cell-2 js-minute-cell" data-val="'+n+'">'+n+"</li>"}).join(""),u=i('<div class="timepicker">\t\t<div v-show class="title">请选择</div>\t\t\t<div class="chose-all">\t\t\t\t<div class="handle">\t\t\t\t\t<div class="cell-4"><a class="icon icon-angle-up icon-2x js-plus-houer"></a></div>\t\t\t\t\t<div class="cell-2"></div>\t\t\t\t\t<div class="cell-4"><a class="icon icon-angle-up icon-2x js-plus-minute"></a></div>\t\t\t\t</div>\t\t\t\t<div class="text">\t\t\t\t\t<div class="cell-4"><a class="js-hour-show" title="选择时"></a></div>\t\t\t\t\t<div class="cell-2">:</div>\t\t\t\t\t<div class="cell-4"><a class="js-minute-show" title="选择分"></a></div>\t\t\t\t</div>\t\t\t\t<div class="handle">\t\t\t\t\t<div class="cell-4"><a class="icon icon-angle-down icon-2x js-minus-houer"></a></div>\t\t\t\t\t<div class="cell-2"></div>\t\t\t\t\t<div class="cell-4"><a class="icon icon-angle-down icon-2x js-minus-minute"></a></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="chose-hour">\t\t\t\t<ul class="handle">'+c+'</ul>\t\t\t</div>\t\t\t<div class="chose-minute">\t\t\t\t<ul class="handle">'+l+"</ul>\t\t\t</div>\t\t</div>\t</div>");return u.find("a").attr("href","javascript:void(0);"),s.content=u,s.title=u.find(".title"),s.choseAll=u.find(".chose-all"),s.choseMinute=u.find(".chose-minute"),s.choseHour=u.find(".chose-hour"),s.hourShow=u.find(".js-hour-show"),s.minuteShow=u.find(".js-minute-show"),s.update=function(){return this.inputTarget.val(e(this.hour)+":"+e(this.minute)),this.minuteShow.text(e(this.minute)),this.hourShow.text(e(this.hour)),this.inputTarget.$timepickerUpdate(),this},s.bindEvent=function(){var t=this;t.hasBind||(t.hasBind=!0,this.content.on("click",".js-minus-minute",function(){t.minute<=0?t.minute=59:t.minute--,t.update()}).on("click",".js-plus-minute",function(){t.minute>59?t.minute=0:t.minute++,t.update()}).on("click",".js-plus-houer",function(){t.hour>23?t.hour=0:t.hour++,t.update()}).on("click",".js-minus-houer",function(){t.hour<=0?t.hour=23:t.hour--,t.update()}).on("click",".js-minute-cell",function(){t.minute=+this.getAttribute("data-val"),t.update(),t.choseMinute.hide(),t.choseAll.show(),t.title.text("请选择")}).on("click",".js-hour-cell",function(){t.hour=+this.getAttribute("data-val"),t.update(),t.choseHour.hide(),t.choseAll.show(),t.title.text("请选择")}).on("click",function(t){t.stopPropagation()}),t.hourShow.on("click",function(){t.choseAll.hide(),t.choseHour.show(),t.title.text("请选择小时")}),t.minuteShow.on("click",function(){t.choseAll.hide(),t.choseMinute.show(),t.title.text("请选择分钟")}))},i.timepicker=s,i.fn.timepicker=function(e){var s,c,l=i.timepicker,u=i("body");if(this[0].nodeName&&"INPUT"===this[0].nodeName)return this.$timepickerUpdate=o,this.off("click").on("click",function(e){var o=this.value;n.test(o)?(o=o.split(":"),s=+o[0],c=+o[1]):(o=new Date,s=o.getHours(),c=o.getMinutes());var a=this.offsetLeft+"px",h=this.offsetTop+this.offsetHeight+"px";l.inputTarget=t,l.content.appendTo(this.offsetParent).css({left:a,top:h}),l.hour=s,l.minute=c,l.choseAll.show(),l.choseHour.hide(),l.choseMinute.hide(),l.update(),i.timepicker.bindEvent(),e.stopPropagation(),u.one("click",function(){l.content.off().remove(),l.hasBind=!1})}),this.off("keydown").on("keydown",function(){return!1}),this.update=function(t){i.isFunction(t)?this.$timepickerUpdate=t:this.$timepickerUpdate=o},this},i});
//# sourceMappingURL=../maps/timepicker.min.js.map
