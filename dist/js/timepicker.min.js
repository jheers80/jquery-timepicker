/*!
 * @todo 日期选择器  
 * @author wanhappy@163.com
 * 使用方法 $('input').timepicker(); 
**/
!function(i,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):i.$=t(i.jQuery)}(this,function(i){"use strict";var t=function(i){return i>=10?i+"":"0"+i},e=/^[0-9]{1,2}:[0-9]{1,2}$/,n={},s=function(){},o=new Array(24).fill(null).map(function(i,e){var n=t(e);return'<li class="cell-2 js-hour-cell" data-val="'+n+'">'+n+"</li>"}).join(""),c=new Array(12).fill(null).map(function(i,e){var n=t(5*e);return'<li class="cell-2 js-minute-cell" data-val="'+n+'">'+n+"</li>"}).join(""),l=i('<div class="timepicker"><div v-show class="title">请选择</div><div class="chose-all"><div class="handle"><div class="cell-4"><a class="icon icon-angle-up icon-2x js-plus-houer"></a></div><div class="cell-2"></div><div class="cell-4"><a class="icon icon-angle-up icon-2x js-plus-minute"></a></div></div><div class="text"><div class="cell-4"><a class="js-hour-show" title="选择时"></a></div><div class="cell-2">:</div><div class="cell-4"><a class="js-minute-show" title="选择分"></a></div></div><div class="handle"><div class="cell-4"><a class="icon icon-angle-down icon-2x js-minus-houer"></a></div><div class="cell-2"></div><div class="cell-4"><a class="icon icon-angle-down icon-2x js-minus-minute"></a></div></div></div><div class="chose-hour"><ul class="handle">'+o+'</ul></div><div class="chose-minute"><ul class="handle">'+c+"</ul></div></div></div>");return l.find("a").attr("href","javascript:void(0);"),n.content=l,n.title=l.find(".title"),n.choseAll=l.find(".chose-all"),n.choseMinute=l.find(".chose-minute"),n.choseHour=l.find(".chose-hour"),n.hourShow=l.find(".js-hour-show"),n.minuteShow=l.find(".js-minute-show"),n.update=function(){return this.inputTarget.val(t(this.hour)+":"+t(this.minute)),this.minuteShow.text(t(this.minute)),this.hourShow.text(t(this.hour)),this.inputTarget.$timepickerUpdate(),this},n.bindEvent=function(){var i=this;i.hasBind||(i.hasBind=!0,this.content.on("click",".js-minus-minute",function(){i.minute<=0?i.minute=59:i.minute--,i.update()}).on("click",".js-plus-minute",function(){i.minute>=59?i.minute=0:i.minute++,i.update()}).on("click",".js-plus-houer",function(){i.hour>=23?i.hour=0:i.hour++,i.update()}).on("click",".js-minus-houer",function(){i.hour<=0?i.hour=23:i.hour--,i.update()}).on("click",".js-minute-cell",function(){i.minute=+this.getAttribute("data-val"),i.update(),i.choseMinute.hide(),i.choseAll.show(),i.title.text("请选择")}).on("click",".js-hour-cell",function(){i.hour=+this.getAttribute("data-val"),i.update(),i.choseHour.hide(),i.choseAll.show(),i.title.text("请选择")}).on("click",function(i){i.stopPropagation()}),i.hourShow.on("click",function(){i.choseAll.hide(),i.choseHour.show(),i.title.text("请选择小时")}),i.minuteShow.on("click",function(){i.choseAll.hide(),i.choseMinute.show(),i.title.text("请选择分钟")}))},i.timepicker=n,i.fn.timepicker=function(t){var n,o,c=this,l=i.timepicker,u=i("body");return c.length>1||!c.length?(c.each(function(){i(this).timepicker()}),c):this[0].nodeName&&"INPUT"===this[0].nodeName?(this.$timepickerUpdate=s,this.off("click").on("click",function(t){var s=this.value;e.test(s)?(s=s.split(":"),n=+s[0],o=+s[1]):(s=new Date,n=s.getHours(),o=s.getMinutes());var a=this.offsetLeft+"px",h=this.offsetTop+this.offsetHeight+"px";l.inputTarget=c,l.content.appendTo(this.offsetParent).css({left:a,top:h}),l.hour=n,l.minute=o,l.choseAll.show(),l.choseHour.hide(),l.choseMinute.hide(),l.update(),i.timepicker.bindEvent(),t.stopPropagation(),u.one("click",function(){l.content.off().remove(),l.hasBind=!1})}),this.off("keydown").on("keydown",function(){return!1}),this.update=function(t){i.isFunction(t)?this.$timepickerUpdate=t:this.$timepickerUpdate=s},this):void 0},i});
//# sourceMappingURL=../maps/timepicker.min.js.map
